<div ng-class="{'show-dialog': self.showDialog}" class="dialog">
  ${require('./dialog-zone-utms.html')}
</div>
<div id="main" class="main slim-scroller" ng-class="{'change-height': self.hideMain}">
  <div class="tab">
    <div style="display: flex; align-items: center;">
      <div class="tab-name fa fa-user-circle-o" style="color: #4085ff; font-size: 17px; position: relative; z-index: 1;"
        ng-click="self.showUser = !self.showUser">
        <div ng-show="self.showUser" class="user">
          <wi-login ng-if="self.hasWiLogin" whoami="main-service" app-name="Base Map" login-url="{{ self.loginUrl }}"
            query-string="self.queryString" register-url="https://www.i2g.cloud/register-information/">
          </wi-login>
        </div>
      </div>
      <div class="tab-name" ng-class="{'active' : isSet(1)}" ng-click="setTab(1)">
        Projects
      </div>
      <div class="tab-name" ng-class="{'active' : isSet(3)}" ng-click="setTab(3)">
        Config
      </div>
      <div class="tab-name" ng-class="{'active' : isSet(2)}" ng-click="setTab(2)">
        Setting
      </div>
    </div>
    <div style="display: flex; align-items: center;">
      <div class="tab-name ti ti-reload" ng-click="self.refesh()" style="color: #99a3ba; font-size: 15px;"></div>
      <div ng-show="self.hideMain" class="tab-name ti ti-arrow-circle-down" style="color: #4085ff; font-size: 15px;"
        ng-click="self.hideMain = !self.hideMain"></div>
      <div ng-show="!self.hideMain" class="tab-name ti ti-arrow-circle-up" style="color: #99a3ba; font-size: 15px;"
        ng-click="self.hideMain = !self.hideMain"></div>
    </div>
  </div>
  <div ng-show="isSet(1) && !self.hideMain" class="content">
    <div class="content-top" resizable r-directions="['bottom']" r-flex="true">
      <wi-tree-view tree-root="treeConfig" get-label="self.getLabel" get-icon="self.getIcon"
        get-children="self.getChildren" run-match="self.runMatch" hide-unmatched="true" click-fn="self.clickFunction">
      </wi-tree-view>
    </div>
    <div class="content-bottom">
      <wi-droppable on-drop="(self.dropFn)" style="flex: 1; display: flex; overflow: hidden;position: absolute;"
        container-style="{flex: 1, margin: 0, border: 'none', overflow: 'auto'}">
        <div ng-show="self.noWell" class="no-wells">
          <div>
            <div class="ti ti-import" style="font-size: 40px;
                        margin-bottom: 20px;
                        color: #5592ff;"></div>
            <div>Drop wells here</div>
          </div>
        </div>
        <wi-tree-view ng-show="!self.noWell" tree-root="wellSelect" get-label="self.getLabel" get-icon="self.getIcon"
          get-children="self.getChildren" run-match="self.runMatchWell" hide-unmatched="true"
          selected-ids="self.selectedIdsHash" click-fn="self.clickWellFunction">
        </wi-tree-view>
      </wi-droppable>
      <div class="tab-function">

        <div class="tab-fn-name ti ti-close" ng-click="self.deleteWell()"></div>
        <div class="tab-fn-name ti-paint-roller" ng-click="self.cleanMap()"></div>
      </div>
    </div>
    <div style="flex-basis: 200px;" resizable r-directions="['top']" r-flex="true">
      <wi-tree-view ng-show="!self.noWell" tree-root="curveList" get-label="self.getLabel" get-icon="self.getIcon"
        get-children="self.getChildren" run-match="self.runMatchCurve" hide-unmatched="true"
        selected-ids="self.selectedIdsHash" click-fn="self.clickCurveFunction">
      </wi-tree-view>
    </div>

  </div>
  <div ng-show="isSet(3) && !self.hideMain" class="content">
    <div style="flex: 1; margin: 15px; user-select: none; overflow: auto;display: flex; flex-direction: column;">
      <div class="upload">
        <div class="upload-header">
          <div>
            <div style="font-weight: bold;">Upload your config</div>
            <span>Config show </span>
          </div>
          <div class="btn-add" id="map-upfile-1-btn">
            <span class="ti ti-plus"></span>
          </div>
        </div>
        <div class="upload-content">
          <p>
            <input type="file" id="map-upfile-1" class="file-upload" accept=".geojson,application/zip"
              placeholder="choose a file" onblur="angular.element(this).scope().clearSelectedFile()"
              onchange="angular.element(this).scope().onFileChange(), angular.element(this).scope().GetFileSizeNameAndType()" />
          </p>
          <div id="fp" style="overflow: hidden; white-space: nowrap; text-overflow: ellipsis;"></div>
        </div>
      </div>
      <div class="upload">
        <div class="upload-header">
          <div>
            <div style="font-weight: bold;">Import file</div>
            <span>Config show </span>
          </div>
          <div class="btn-add" id="map-upfile-2-btn">
            <span class="ti ti-plus"></span>
          </div>
        </div>
        <div class="upload-content">
          <p>
            <input type="file" id="map-upfile-2" class="file-upload" accept=".zip" placeholder="choose a file .zip"
              onblur="angular.element(this).scope().clearSelectedContourFile()"
              onchange="angular.element(this).scope().onZipFileChange(), angular.element(this).scope().GetFileSizeNameAndType2()" />
          </p>
          <div id="fp2" style="overflow: hidden; white-space: nowrap; text-overflow: ellipsis;"></div>
        </div>
      </div>
      <div class="export" ng-click="self.downloadZipFile()">
        Export Config
      </div>
    </div>
  </div>
  <div ng-show="isSet(2) && !self.hideMain" class="content">
    <div style="flex: 1; margin: 15px; user-select: none; overflow: hidden;display: flex; flex-direction: column;">
      <div class="setting">
        <div class="setting-title">Appearance</div>
        <div class="setting-content">
          <span>Theme actived: {{ self.activeTheme }} </span>
        </div>
        <div style="display: flex; margin-top: 10px;justify-content: space-between;">
          <div ng-class="{'active fa fa-check': self.activeTheme === 'Gray'}"
            ng-click="self.changeStyleMap(1); self.activeTheme = 'Gray'" class="theme" style="background: #afafaf">
          </div>
          <div ng-class="{'active fa fa-check': self.activeTheme === 'Satellite'}"
            ng-click="self.changeStyleMap(2); self.activeTheme = 'Satellite'" class="theme" style="background: #4CAF50">
          </div>
          <div ng-class="{'active fa fa-check': self.activeTheme === 'Streets'}"
            ng-click="self.changeStyleMap(3); self.activeTheme = 'Streets'" class="theme" style="background:  #2196F3">
          </div>
          <div ng-class="{'active fa fa-check': self.activeTheme === 'Dark'}"
            ng-click="self.changeStyleMap(4); self.activeTheme = 'Dark'" class="theme" style="background: #575757">
          </div>
          <div ng-class="{'active fa fa-check': self.activeTheme === 'Ocean'}"
            ng-click="self.changeStyleMap(5); self.activeTheme = 'Ocean'" class="theme" style="background: #45b1e2">
          </div>
          <div ng-class="{'active fa fa-check': self.activeTheme === 'Custom theme'}"
            ng-click="self.changeStyleMap(6); self.activeTheme = 'Custom theme'" class="theme"
            style="background: #544996;margin-right: 0;"></div>
        </div>
      </div>
      <div class="setting">
        <div class="setting-title">Control panel</div>
        <div class="setting-content">
          <span>Zoom, Location and draw </span>
          <label class="switch">
            <input type="checkbox" ng-checked="self.controlPanel" ng-click="self.controlPanel = !self.controlPanel" />
            <span class="slider round"></span>
          </label>
        </div>
      </div>
      <div class="setting">
        <div class="setting-title">Dark menu</div>
        <div class="setting-content">
          <span>Dark mode for menu window </span>
          <label class="switch">
            <input type="checkbox" ng-click="self.changeTheme()" />
            <span class="slider round"></span>
          </label>
        </div>
      </div>
      <!-- <div class="setting">
                <div class="setting-title">Deep ocean</div>
                <div class="setting-content">
                    <span>Show the depth of the ocean </span>
                    <label class="switch">
                        <input type="checkbox">
                        <span class="slider round" ng-click="self.deepOcean = !self.deepOcean"></span>
                    </label>
                </div>
            </div> -->
      <div class="setting">
        <div class="setting-title">Popup</div>
        <div class="setting-content">
          <span>Display all names well on the popup</span>
          <label class="switch">
            <input type="checkbox" ng-checked="allPopup" ng-click="self.allPopup()" />
            <span class="slider round"></span>
          </label>
        </div>
      </div>
      <div class="setting">
        <div class="setting-title">Point location</div>
        <div class="setting-content">
          <span>Displays coordinates information location of point mouse</span>
          <label class="switch">
            <input type="checkbox" ng-checked="self.point" ng-click="self.point = !self.point" />
            <span class="slider round"></span>
          </label>
        </div>
      </div>
      <div class="setting">
        <div class="setting-title">Show Contour</div>
        <div class="setting-content">
          <span>Displays contour layer</span>
          <label class="switch">
            <input type="checkbox" ng-checked="self.showContour" ng-click="self.toggleContour()" />
            <span class="slider round"></span>
          </label>
        </div>
      </div>
      <!-- <div class="setting">
                <div class="setting-title">Show UTM Zone</div>
                <div class="setting-content">
                    <span>Display names and division of zones on the map</span>
                    <label class="switch">
                        <input type="checkbox" checked>
                        <span class="slider round" ng-click=""></span>
                    </label>
                </div>
            </div> -->
      <div class="setting" style="overflow: hidden; margin-bottom: 0;">
        <div>
          <div class="setting-title">Zone</div>
          <div class="setting-content" style="align-items: flex-start;">
            <!-- <span>Zone selected is: </span> -->
            <span>{{ zoneMap }}</span>
          </div>
        </div>
        <!-- <span class="zone-btn" ng-click="self.showDialog = !self.showDialog">49N</span> -->

        <div class="filter-zone">
          <div class="filter">
            <div style="margin-left: 0" class="ti ti-search"></div>
          </div>
          <input class="searchInput" type="text" placeholder="Search zone" ng-model="searchProject" />
          <div class="filter">
            <div ng-click="self.showDetailZone = !self.showDetailZone"
              ng-class="{'show-detail-zone': !self.showDetailZone}" class="ti ti-comment" style="padding: 10px;"></div>
          </div>
        </div>
        <div class="list-zone">
          <div class="zone" ng-repeat="item in zoneFieldTable | filter:searchProject track by $index">
            <div class="zone-title">
              <div ng-class="{'selected-zone': zoneMap == item.output}" style="display: flex;">
                <div ng-click="hasChanged(item)" class="icon apply-16x16"></div>
                <span ng-click="hasChanged(item)" ng-bind="item.Name"></span>
              </div>
              <!-- <div style="display: flex; align-items: center;">
                                <span class="ti ti-arrow-right"></span>
                            </div> -->
            </div>
            <span ng-show="!self.showDetailZone" class="zone-name" ng-bind="item.output"></span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<map-view class="mapView"
  mapbox-token="pk.eyJ1IjoicmV2b3RlY2giLCJhIjoiY2swZGJobWg3MDY2NzNtbnVwaDEyYmttMCJ9.39KL2GsNCiew9XmiLVsTDQ"
  wells="wellSelect" zone-map="zoneMap" focus-well="focusWell" all-popup="allPopup" theme="themeMap"
  focus-curve="focusCurve" get-curve-info-fn="self.getCurveInfoFn" geo-json="self.geoJson"
  show-contour="self.showContour" control-panel="self.controlPanel" deep-ocean="self.deepOcean" point="self.point">
</map-view>

<!-- <map-view class="mapView"
    mapbox-token='pk.eyJ1IjoiazU0aHVuZ3liIiwiYSI6ImNqdGZtNDE4ODF1OXEzeW85djJ5c29nYnoifQ.-VfHeKXV9avmbia1E7BFcQ'
    wells='wellSelect' zone-map='zoneMap' focus-well='focusWell' all-popup='allPopup' theme='themeMap'
    focus-curve='focusCurve' get-curve-info-fn='self.getCurveInfoFn'
    control-panel="self.controlPanel" deep-ocean="self.deepOcean" point="self.point">
</map-view> -->